<style>
      
  @media (max-width: 960px) and (orientation: landscape),
         (min-width: 0px) and (max-width: 600px) and (orientation: portrait) {
    /* Phone styles */
    
    #main {
      @apply --layout-fit;
    }
    
    .lesson-inputs .grid {
      width: 100%;
    }

    .next {
      bottom: 0;
      left: 0;
      right: 0;
    }
  }
  
  @media (min-width: 961px) and (max-width: 1279px) and (orientation: landscape),
         (min-width: 601px) and (max-width: 840px) and (orientation: portrait) {
    /* Tablet styles */
    
    #main {
      @apply --layout-fit;
    }
    
    .lesson-inputs .grid {
      width: 49%;
    }

    .next {
      bottom: 0;
      left: 0;
      right: 0;
    }
  }
  
  @media (min-width: 841px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape) {
    /* Desktop styles */
    
    :host {
      @apply --layout;
      @apply --layout-center;
      @apply --layout-center-justified;
    }
    
    #main {
      box-sizing: border-box;
      width: 780px;
      height: 780px;
      position: relative;
    }
    
    /* Hide ugly scrollbar in Chrome on desktop */
    #main::-webkit-scrollbar { width: 0 !important; }
    
    #main {
      @apply --shadow-elevation-16dp;
    }
    
    #main, .page {
      border-radius: 25px;
    }
    
    .lesson-inputs .grid {
      width: 49%;
    }
    
    .next {
      bottom: calc(50vh - 390px);
      left: calc(50vw - 390px);
      right: calc(50vw - 390px);
      border-radius: 0 0 25px 25px;
    }
    
  }
  
  :host {
    transform: translateY(100vh);
    background: rgba(0, 0, 0, 0.3);
    z-index: 999;
    @apply --paper-font-common-base;
  }
  
  :host(.open) {
    transform: none;
  }
  
  :host, iron-swipeable-pages {
    @apply --layout-fit;
  }
  
  #main {
    overflow-x: hidden;
    background-color: white;
    padding: 15px;
    padding-bottom: 54px;
    overflow-y: scroll;
  }
  
  #weekDays {
    display: inline-block;
  }
  
  #weekDays .selectable-item {
    display: inline-block;
    width: 40px;
    height: 40px;
    line-height: 40px;
    border-radius: 50%;
    background-color: var(--paper-grey-200);
    color: black;
    opacity: var(--dark-primary-opacity);
    transition: background-color 150ms;
    padding: 0;
    margin: 3px;
    vertical-align: middle;
    text-align: center;
  }
  
  #weekDays .selectable-item:focus {
    background-color: var(--paper-grey-400);
    outline: none;
  }
  
  #weekDays .selectable-item.iron-selected:focus {
    background-color: var(--dark-primary-color);
  }
  
  #weekDays .selectable-item.iron-selected {
    color: white;
    opacity: 1;
    background-color: var(--primary-color);
  }
  
  h2 {
    @apply --paper-font-display1;
  }
  
  h3 {
    @apply --paper-font-headline;
    margin-top: 17px !important;
  }
  
  .lesson-inputs {
    position: relative;
    left: -15px;
    width: calc(100% + 40px);
    padding: 13px;
  }
  
  .lesson {
    display: inline-block;
    position: relative;
    width: 100%;
    border-bottom: 1px var(--light-theme-divider-color) solid;
    @apply --layout-horizontal;
  }
  
  .lesson > .remove-lesson {
    position: relative;
    top: 4px;
    opacity: 0.54;
  }
  
  .add-lesson {
    margin-top: 2px;
  }
  
  .lesson > .lesson-inputs {
    @apply --layout-flex;
  }
  
  .day {
    position: relative;
    left: -15px;
    width: 100%;
    padding: 15px;
    @apply --shadow-transition;
  }
  
  .day:hover {
    @apply --shadow-elevation-4dp;
  }
  
  .next {
    position: fixed;
    padding: 6px;
    border-top: 1px var(--light-theme-divider-color) solid;
    background-color: white;
    @apply --layout-horizontal;
    @apply --layout-center;
  }
  
  .next > .add-lesson {
    opacity: var(--dark-secondary-opacity);
  }

  .next > .spacer {
    @apply --layout-flex;
  }
  
  .next > paper-button {
    color: var(--primary-color);
    font-weight: 500;
  }
  
  hr {
    border: 0;
    border-bottom: 1px var(--light-theme-divider-color) solid;
    position: relative;
    left: -15px;
    width: calc(100% + 30px);
    margin: 12px 0;
  }
  
  .label-text {
    opacity: var(--dark-primary-opacity);
    font-size: 16px;
    margin: 12px 4px 0 4px;
  }
  
  .lesson-name-input, .class-input, .teacher-input, .time-input {
    margin: 0 2px;
    display: inline-block;
  }

  .lesson-name-input paper-input {
    width: 95%;
  }

  .lesson-name-input paper-input paper-icon-button {
    width: 32px;
    height: 32px;
    padding: 6px;
    opacity: 0;
    transition: transform 200ms ease-in-out,
      opacity 60ms;
    --iron-icon: {
      position: relative;
      bottom: 3px;
    }
  }

  .lesson-name-input:hover paper-input paper-icon-button,
  .lesson-name-input:focus paper-input paper-icon-button,
  .lesson-name-input:focus-within paper-input paper-icon-button {
    opacity: 0.54;
  }

  .lesson-name-input[opened] paper-input .toggle-button {
    transform: rotate(180deg);
  }
  
  #spinner {
    @apply --layout-vertical;
    @apply --layout-center;
    @apply --layout-center-justified;
    @apply --layout-fit;
    background: white;
  }
  
  #spinner.animate {
    transition: all 250ms ease-out;
  }
  
  #spinner.hidden {
    opacity: 0;
  }
  
  #spinner.right {
    transform: translateX(100%);
  }
  
  #spinner p {
    @apply --paper-font-body;
    opacity: var(--dark-secondary-opacity);
    margin: 15px;
  }
  
  #spinner paper-spinner-lite {
    --paper-spinner-color: var(--primary-color);
  }
  
  section .margin {
    margin: 10px 6px;
  }
  
  section .margin-sides {
    margin: 0 6px;
  }
  
  #init paper-toggle-button {
    margin: 0 0 16px 4px;
    --paper-toggle-button-label-color: var(--light-theme-secondary-color);
  }
  
  .lesson-input {
    @apply --layout-vertical;
    @apply --layout-wrap;
  }
  
  .lesson-inputs .grid {
    display: inline-flex;
    flex-direction: row;
    align-items: end;
    justify-content: flex-start;
  }
  
</style>

<div id="main">
  <section id="init">
    <h2 class="margin">[[localize('setup_header')]]</h2>
    <h3 class="margin">[[localize('setup_daysToSchool')]]</h3>
    <iron-selector multi id="weekDays" selected-values="{{weekDays}}" class="margin" attr-for-selected="i">
      <div tabindex="0" i=0 class="selectable-item">[[localize('weekDaysShort', 'd', '0')]]</div>
      <div tabindex="0" i=1 class="selectable-item">[[localize('weekDaysShort', 'd', '1')]]</div>
      <div tabindex="0" i=2 class="selectable-item">[[localize('weekDaysShort', 'd', '2')]]</div>
      <div tabindex="0" i=3 class="selectable-item">[[localize('weekDaysShort', 'd', '3')]]</div>
      <div tabindex="0" i=4 class="selectable-item">[[localize('weekDaysShort', 'd', '4')]]</div>
      <div tabindex="0" i=5 class="selectable-item">[[localize('weekDaysShort', 'd', '5')]]</div>
      <div tabindex="0" i=6 class="selectable-item">[[localize('weekDaysShort', 'd', '6')]]</div>
    </iron-selector>
    <hr noshadow>
    <h3 class="margin">
      [[localize('setup_pref')]]<br>
    </h3>
    <paper-dropdown-menu label="[[localize('settings_firstDay')]]" id="firstDayOfWeek" class="margin" on-value-changed="_changeFirstDayOfWeek">
      <paper-listbox slot="dropdown-content" class="dropdown-content" attr-for-selected="i">
        <paper-item i="1">[[localize('weekDays', 'd', '1')]]</paper-item>
        <paper-item i="6">[[localize('weekDays', 'd', '6')]]</paper-item>
        <paper-item i="0">[[localize('weekDays', 'd', '0')]]</paper-item>
      </paper-listbox>
    </paper-dropdown-menu>
    <paper-toggle-button class="margin" id="clock12">[[localize('settings_12h')]]</paper-toggle-button>
    <div class="next">
      <span class="spacer"></span>
      <paper-button on-tap="_afterInit">[[localize('setup_next')]]</paper-button>
    </div>
  </section>
  <section id="daySection" style="display:none;">
    <h3 class="margin"></h3>
    <template is="dom-repeat" class="lesson-placeholder" initial-count="2" as="lesson" index-as="lessonIndex">
      <div class="lesson" l$="[[lessonIndex]]">
        <div class="lesson-inputs">
          <vaadin-combo-box-light class="lesson-name-input grid" allow-custom-value item-value-path="name"
            on-custom-value-set="_processCustomLessonInputValue" on-change="_lessonSet" items="[[_lessonsInfo]]"
            item-label-path="name">
            <paper-input label="[[localize('setup_yourLesson')]]" no-label-float>
              <paper-icon-button slot="suffix" icon="ycons:clear" class="clear-button" tabindex="-1"></paper-icon-button>
              <paper-icon-button slot="suffix" icon="ycons:arrow-drop-down" class="toggle-button" tabindex="-1"></paper-icon-button>
            </paper-input>
          </vaadin-combo-box-light>
          <div class="grid">
            <span class="label-text">[[localize('setup_in')]]</span>
            <paper-input class="class-input" label="[[localize('setup-class')]]" no-label-float on-change="_computeNewInputClass"></paper-input>
          </div>
          <div class="grid">
            <span class="label-text">[[localize('setup_with')]]</span>
            <paper-input class="teacher-input" label="[[localize('setup_teacher')]]" no-label-float on-change="_computeNewInputTeacher"></paper-input>
          </div>
          <div class="grid">
            <span class="label-text">[[localize('setup_starts')]]</span>
            <paper-input type="time" class="time-input start-time-input" no-label-float on-change="_computeNewInputTime"></paper-input>
            <span class="label-text">[[localize('setup_ends')]]</span>
            <paper-input type="time" class="time-input end-time-input" no-label-float on-change="_computeNewInputTime"></paper-input>
          </div>
        </div>
        <paper-icon-button icon="ycons:remove-circle" on-tap="_removeLesson"
                           tabindex="-1" class="remove-lesson"></paper-icon-button>
      </div>
    </template>
    <div class="next">
      <paper-icon-button class="add-lesson" on-tap="_addLesson"
                        icon="ycons:add"></paper-icon-button>
      <span class="spacer"></span>
      <paper-button on-tap="_proceed">[[localize('setup_next')]]</paper-button>
    </div>
  </section>
  <div id="spinner" class="right">
    <paper-spinner-lite></paper-spinner-lite>
  </div>
</div>